cmake_minimum_required(VERSION 3.16)
project(RubikCubeTests)

set(CMAKE_CXX_STANDARD 17)

# Находим пакеты
find_package(GTest REQUIRED)
find_package(SFML 2.5 COMPONENTS graphics window system REQUIRED)

# Исходные файлы
set(SOURCE_FILES
    RubikCube.cpp
    Menu.cpp
)

# Основное приложение
add_executable(RubikCubeApp main.cpp ${SOURCE_FILES})
target_link_libraries(RubikCubeApp SFML::Graphics SFML::Window SFML::System OpenGL)

# Тесты
add_executable(RubikCubeTests
    RubikCubeTests.cpp
    MenuTests.cpp
    IntegrationTests.cpp
    ${SOURCE_FILES}
)

target_link_libraries(RubikCubeTests
    GTest::gtest_main
    SFML::Graphics
    SFML::Window
    SFML::System
    OpenGL
)

# Включение тестов
include(GoogleTest)
gtest_discover_tests(RubikCubeTests)
